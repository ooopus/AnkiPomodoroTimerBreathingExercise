# ç•ªèŒ„é’Ÿ & å‘¼å¸è®­ç»ƒ Anki æ’ä»¶

è¿™æ˜¯ä¸€ä¸ªä¸ºAnkiè®¾è®¡çš„æ’ä»¶ï¼Œç»“åˆäº†ç•ªèŒ„å·¥ä½œæ³•å’Œå‘¼å¸è®­ç»ƒåŠŸèƒ½ï¼Œå¸®åŠ©ä½ åœ¨å­¦ä¹ æ—¶ä¿æŒä¸“æ³¨å’Œæ”¾æ¾ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ… ç•ªèŒ„é’Ÿè®¡æ—¶å™¨ï¼ˆé»˜è®¤25åˆ†é’Ÿï¼‰
- ğŸŒ¬ï¸ å‘¼å¸è®­ç»ƒï¼ˆå¸æ°”-å±ä½-å‘¼æ°”å¾ªç¯ï¼‰
- â±ï¸ çŠ¶æ€æ å®æ—¶æ˜¾ç¤ºå‰©ä½™æ—¶é—´
- ğŸ¯ é•¿ä¼‘æ¯æœºåˆ¶ï¼ˆè¿ç»­å®ŒæˆæŒ‡å®šç•ªèŒ„æ•°åï¼‰
- âš™ï¸ å®Œå…¨å¯é…ç½®çš„å‚æ•°è®¾ç½®

## å®‰è£…æ–¹æ³•

1. åœ¨Ankiä¸­ç‚¹å‡»"å·¥å…·" > "æ’ä»¶" > "è·å–æ’ä»¶"
2. å¡«å…¥<code>1953077949</code>è¿›è¡Œå®‰è£…
3. é‡å¯Anki

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

1. å¼€å§‹å¤ä¹ å¡ç‰‡æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å¯åŠ¨ç•ªèŒ„é’Ÿè®¡æ—¶å™¨
2. çŠ¶æ€æ ä¼šæ˜¾ç¤ºå‰©ä½™æ—¶é—´ï¼ˆå¦‚"ğŸ… 24:59"ï¼‰å’Œå®Œæˆè¿›åº¦
3. ç•ªèŒ„é’Ÿç»“æŸåä¼šè‡ªåŠ¨è¿›å…¥ä¼‘æ¯æ—¶é—´
4. ä¼‘æ¯ç»“æŸåè‡ªåŠ¨è¿›å…¥å‘¼å¸è®­ç»ƒ
5. å‘¼å¸è®­ç»ƒå®Œæˆåä¼šè¿”å›ç‰Œç»„æµè§ˆå™¨

### ä¼‘æ¯æœºåˆ¶

- æ¯ä¸ªç•ªèŒ„é’Ÿç»“æŸåä¼šè¿›å…¥çŸ­ä¼‘æ¯
- å®ŒæˆæŒ‡å®šæ•°é‡çš„ç•ªèŒ„é’Ÿåä¼šè§¦å‘é•¿ä¼‘æ¯
- ä¼‘æ¯æ—¶é—´æ˜¾ç¤ºåœ¨çŠ¶æ€æ ï¼Œå¸¦æœ‰ç‰¹æ®Šæç¤ºå›¾æ ‡
- å¯é…ç½®æœ€å¤§ä¼‘æ¯æ—¶é•¿ï¼Œé˜²æ­¢è¿‡åº¦ä¼‘æ¯

### å‘¼å¸è®­ç»ƒè¯´æ˜

å‘¼å¸è®­ç»ƒåŒ…å«ä»¥ä¸‹å¯é…ç½®çš„é˜¶æ®µï¼š
- å¸æ°”ï¼ˆé»˜è®¤4ç§’ï¼‰
- å±ä½ï¼ˆé»˜è®¤ç¦ç”¨ï¼‰
- å‘¼æ°”ï¼ˆé»˜è®¤6ç§’ï¼‰

### å¿«æ·é”®

- æ— ç‰¹å®šå¿«æ·é”®ï¼Œæ‰€æœ‰æ“ä½œé€šè¿‡ç•Œé¢å®Œæˆ

### è®¡æ—¶å™¨çª—å£

- å¯é€‰çš„åœ†å½¢è®¡æ—¶å™¨çª—å£ï¼Œæ˜¾ç¤ºå‰©ä½™æ—¶é—´è¿›åº¦
- çª—å£å¯è®¾ç½®ä¸º"å§‹ç»ˆç½®é¡¶"æ¨¡å¼
- æ”¯æŒå››ç§ä½ç½®é…ç½®ï¼šå·¦ä¸Šè§’ã€å³ä¸Šè§’ã€å·¦ä¸‹è§’ã€å³ä¸‹è§’
- å®æ—¶æ˜¾ç¤ºç•ªèŒ„é’Ÿå’Œä¼‘æ¯æ—¶é—´è¿›åº¦

## é…ç½®é€‰é¡¹

é€šè¿‡"å·¥å…·" > "ç•ªèŒ„é’Ÿ & å‘¼å¸è®¾ç½®..."å¯ä»¥é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š

### å¸¸è§„è®¾ç½®
- å¯ç”¨/ç¦ç”¨æ’ä»¶
- æ˜¾ç¤º/éšè—çŠ¶æ€æ è®¡æ—¶å™¨
- æ˜¾ç¤º/éšè—åœ†å½¢è®¡æ—¶å™¨çª—å£
- è®¡æ—¶å™¨çª—å£ä½ç½®ï¼ˆå·¦ä¸Šè§’/å³ä¸Šè§’/å·¦ä¸‹è§’/å³ä¸‹è§’ï¼‰
- ç•ªèŒ„é’Ÿæ—¶é•¿ï¼ˆ1-180åˆ†é’Ÿï¼‰
- è¿ç»­ç•ªèŒ„æ•°é‡è®¾ç½®ï¼ˆè§¦å‘é•¿ä¼‘æ¯ï¼‰
- é•¿ä¼‘æ¯æ—¶é•¿è®¾ç½®
- æœ€å¤§ä¼‘æ¯æ—¶é—´é™åˆ¶

### å‘¼å¸è®­ç»ƒè®¾ç½®
- å¾ªç¯æ¬¡æ•°ï¼ˆ0-50æ¬¡ï¼‰
- å„é˜¶æ®µå¯ç”¨/ç¦ç”¨
- å„é˜¶æ®µæŒç»­æ—¶é—´ï¼ˆ0-60ç§’ï¼‰

è®¾ç½®ç•Œé¢ä¼šå®æ—¶æ˜¾ç¤ºé¢„è®¡çš„æ€»è®­ç»ƒæ—¶é—´ã€‚

## å¼€å‘ç›¸å…³

### ç¯å¢ƒè¦æ±‚
- Python 3.9
- aqt >= 25.0

### å›½é™…åŒ– (i18n)

#### ç¿»è¯‘æ–‡ä»¶ç»“æ„
```
locales/
â”œâ”€â”€ en_US/
â”‚   â””â”€â”€ LC_MESSAGES/
â”‚       â”œâ”€â”€ messages.mo
â”‚       â””â”€â”€ messages.po
â””â”€â”€ zh_CN/
    â””â”€â”€ LC_MESSAGES/
        â”œâ”€â”€ messages.mo
        â””â”€â”€ messages.po
```

#### ç¿»è¯‘å·¥ä½œæµç¨‹

1. æå–éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²ï¼š
```bash
cd AnkiPomodoroTimerBreatheExericise
pybabel extract -F babel.cfg -o locales/messages.pot .
```

2. åˆå§‹åŒ–æ–°è¯­è¨€ï¼ˆå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ·»åŠ è¯¥è¯­è¨€ï¼‰ï¼š
```bash
pybabel init -i locales/messages.pot -d locales -l <è¯­è¨€ä»£ç >
```
ä¾‹å¦‚ï¼š`pybabel init -i locales/messages.pot -d locales -l zh_CN`

3. æ›´æ–°ç°æœ‰ç¿»è¯‘æ–‡ä»¶ï¼š
```bash
pybabel update -i locales/messages.pot -d locales
```

4. ç¼–è¾‘ .po æ–‡ä»¶æ·»åŠ ç¿»è¯‘å†…å®¹
- ç¼–è¾‘ `locales/<è¯­è¨€ä»£ç >/LC_MESSAGES/messages.po`
- ä¸ºæ¯ä¸ª msgid æ·»åŠ å¯¹åº”çš„ msgstr ç¿»è¯‘

5. ç¼–è¯‘ç¿»è¯‘æ–‡ä»¶ï¼š
```bash
pybabel compile -d locales
```

#### æ·»åŠ æ–°çš„ç¿»è¯‘å­—ç¬¦ä¸²

1. åœ¨ä»£ç ä¸­ä½¿ç”¨ `_()` å‡½æ•°åŒ…è£…éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²ï¼š
```python
from .translator import _
message = _("éœ€è¦ç¿»è¯‘çš„æ–‡æœ¬")
```

2. é‡å¤ä¸Šè¿°å·¥ä½œæµç¨‹æ­¥éª¤ 1-5

#### æ”¯æŒçš„è¯­è¨€
- è‹±è¯­ (en_US)
- ç®€ä½“ä¸­æ–‡ (zh_CN)

#### è´¡çŒ®ç¿»è¯‘
1. Fork æœ¬ä»“åº“
2. æŒ‰ç…§ä¸Šè¿°å·¥ä½œæµç¨‹æ·»åŠ æ–°è¯­è¨€æˆ–æ”¹è¿›ç°æœ‰ç¿»è¯‘
3. æäº¤ Pull Request

### å¼€å‘æŒ‡å—

#### ç›®å½•ç»“æ„
```
AnkiPomodoroTimerBreatheExericise/
â”œâ”€â”€ __init__.py          # æ’ä»¶å…¥å£
â”œâ”€â”€ babel.cfg            # Babel é…ç½®æ–‡ä»¶
â”œâ”€â”€ breathing.py         # å‘¼å¸è®­ç»ƒç›¸å…³
â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”œâ”€â”€ constants.py        # å¸¸é‡å®šä¹‰
â”œâ”€â”€ hooks.py            # Anki é’©å­å‡½æ•°
â”œâ”€â”€ locales/            # ç¿»è¯‘æ–‡ä»¶
â”œâ”€â”€ pomodoro.py         # ç•ªèŒ„é’ŸåŠŸèƒ½
â”œâ”€â”€ timer_utils.py      # è®¡æ—¶å™¨å·¥å…·
â”œâ”€â”€ translator.py       # ç¿»è¯‘å™¨
â””â”€â”€ ui/                 # ç”¨æˆ·ç•Œé¢
```

#### ä»£ç é£æ ¼
- ä½¿ç”¨ Python ç±»å‹æ³¨è§£
- éµå¾ª PEP 8 è§„èŒƒ
- æ‰€æœ‰ç”¨æˆ·å¯è§çš„å­—ç¬¦ä¸²éƒ½éœ€è¦ä½¿ç”¨ `_()` åŒ…è£…ä»¥æ”¯æŒç¿»è¯‘

### é—®é¢˜åé¦ˆ
å¦‚æœä½ å‘ç°ä»»ä½•é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·åœ¨ GitHub ä»“åº“æäº¤ Issueã€‚
